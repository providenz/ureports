{% extends 'base.html' %}
{% block title %}Home{% endblock %}
{% block content %}
<!-- Page Header-->
<header class="bg-white shadow-sm px-4 py-3 z-index-20">
    <div class="container-fluid px-0">
        <h2 class="mb-0 p-1">Profile</h2>
    </div>
</header>
<!-- Breadcrumb-->
<div class="bg-white">
    <div class="container-fluid">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb mb-0 py-3">
                <li class="breadcrumb-item"><a class="fw-light" href="{% url 'index'%}">Home</a>
                </li>
                <li class="breadcrumb-item active fw-light" aria-current="page">Profile</li>
            </ol>
        </nav>
    </div>
</div>
<form enctype="multipart/form-data" class="card" method="post" novalidate>
    {% csrf_token %}
    <div class="card-body">
        <h3 class="card-title">Edit Profile</h3>
        <div class="row gy-4">
            <img class="card-profile-img" src="{{ request.user.logo.url }}" style="width: auto; height: 150px; border-radius: 20%; overflow: hidden;">
        </div>
        <div class="row gy-4">
            <div class="col-sm-6">
                <div class="mb-3">
                    <label for="formFileSm" class="form-label">Change image:</label>
                    {{ form.logo }}
                </div>
            </div>
            <div class="col-sm-6">       
                <label class="form-label">Username</label>
                {{ form.username }}
            </div>
        </div>
        <div class="row gy-4"> 
            <div class="col-sm-6">
                <label class="form-label">First Name</label>
                {{ form.first_name }}
            </div>
            <div class="col-sm-6">
                <label class="form-label">Last name</label>
                {{ form.last_name }}
            </div>
            <div class="col-sm-6">
                <a href="{% url 'reset_password' %}" class="btn btn-info mb-3">
                    Reset Password
                </a>
                <a href="{% url 'change_email' %}" class="btn btn-success mb-3">
                    Change Email
                </a>
            </div>
            <div class="col-sm-6">
                <button class="btn btn-danger mb-3" type="button" data-bs-toggle="modal" data-bs-target="#myModal">Delete Account<svg xmlns="http://www.w3.org/2000/svg" height="1em"
                    viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                    <style>
                        svg {
                            fill: #ffffff;
                            margin-left: 5px;
                        }
                    </style>
                    <path
                        d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z" />
                </svg>
                </button>
                <div class="modal fade text-start" id="myModal" tabindex="-1" aria-labelledby="myModalLabel" aria-hidden="true"
                    style="display: none;">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="myModalLabel">Warning!</h5>
                                <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <p>Are you sure you want to delete the account?</p>
                                <p>All data will be lost!</p>
                            </div>
                            <div class="modal-footer">
                                <button class="btn btn-secondary" type="button" data-bs-dismiss="modal">Close</button>
                                <a href="{% url 'delete_account' %}" class="btn btn-danger" type="button">Delete Account</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="card-footer text-end">
        <button class="btn btn-primary" type="submit">Update Profile</button>
    </div>
</form>

{% endblock %}